<?php
/***************************************************************************
 *   Copyright (C) by Stepanov Evgeny                                      *
 *   from.stev@gmail.com                                                   *
 ***************************************************************************
 

/*
 * - $_objects	
 * - $_filter	
 * - $_name		
 * - $_actions	
 */

?>
	<table class="table">
		<thead class="fixed">
			<tr class="breadcrumb">
				<? foreach ($_fields as $key => $type) { ?>
				<th class="breadcrumb">
					<b><?=_($key)?></b>
				</th>
				<? } ?>

				<? if (count($_actions)) { ?>
				<th class="breadcrumb" colspan="<?=count($_actions) ?>">
					<b><?=_('actions')?></b>
				</th>
				<? } ?>
			</tr>
		</thead>
		<tbody>

		<?	$i = 1; ?>
		<?	foreach ($_objects as $key => $object) { ?>
		<tr>
			<?	foreach ($_fields as $fieldName => $type) { ?>
			<td>
				<?	$method = 'get'.ucfirst($fieldName); ?>
				<?=	method_exists($object, $method)
					? GuiUtils::ObjectToString($object->{$method}())
					: '&nbsp;';
				?>
			</td>
			<? } ?>

			<? foreach ($_actions as $actionName => $url) { ?>
			<td>
				<a href="<?=$url->set('id', $object->getId()) ?>"><?=_($actionName)?></a>
			</td>
			<? }?>
		</tr>
		<?	$i++;
			}
		?>
		</tbody>
	</table>
